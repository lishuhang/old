# 2019：“暗黑”的一年

![img](https://lishuhang.me/img/2019/12/dark.jpg)

*书航 12 月 18 日发于北京*

今天，微信开放了安卓平台 7.0.10 版本的内部测试。安装之后，可以看到的一些小变化是多选信息、查看图片、视频等界面的微调。

但如果这个时候你的手机是 Android 10（Q）以上并开启了深色模式，那么你就会发现这一版本最大的一个改变：整个界面都变成了深色。

![img](https://lishuhang.me/img/2019/12/wechat-dark.jpg)

深色模式——夜间模式——暗黑模式——黑暗模式——随便你怎么说啦，反正它已经被微信用户期待了很久。但微信开发团队一直不喜欢这个想法。今年4月5日，微信团队曾发微博说：

> 为什么没有夜间模式？你的夜晚太珍贵，我们不忍心占用，更不愿意成为你#半夜醒来看手机的原因#。愿你每夜好眠。

![img](https://lishuhang.me/img/2019/12/wechat-no-dark.jpg)

似乎每一个微信用户都想去当微信的产品经理。贵为产品经理之神的张小龙以及他的团队，以沉默和克制作为回答。他们不管做什么，都会有人来解释这个做法的合理性。

但是，在当地时间6月3日，苹果WWDC 2019宣布iOS13确定引入全局深色模式之后……

微信就把上面那条微博**删除了**。此时距离微信团队傲娇且拖拉地推出最新的深色测试版，还有小半年。

2019年，苹果的iOS13、macOS Mojave及更高版本，和Android Q操作系统一起，将黑暗模式带到了手机屏幕。而上一年 Windows 10 的一次更新，已经将黑色界面带入了PC。

![img](https://lishuhang.me/img/2019/12/os-enabling-dark-mode.jpg)

随着系统级别的支持，其他主流应用程序的适配也陆续展开。今年谷歌的Gmail和Chrome浏览器、聊天工具slack、telegram、微软的Edge浏览器和Office移动版App都“黑化”了。Youtube今年全面引入了网页版、手机和平板统一设计的新界面，其深色模式只对本机生效。

Twitter在2019年的大改版，是将所有端统一设计，并且全都使用Web代码输出和封装，由自适应的网页版一次性生成手机、平板、PC和Mac客户端。在2019年，灰蓝色的深色模式进一步改成了完全黑色。Facebook全系列应用虽然进度稍微缓慢，但到12月份的时候，也已经基本完成了向黑色模式的转变。

在国内，知乎什么的很早就提供黑暗模式。微博国际版很长时间内都是唯一提供深色模式的官方客户端，引发不少人下载这个没有超级话题等功能的版本。但现在，所有的客户端都可以调深色了。

有一个网站 darkmodelist 指出了用户如何手动或自动调整为黑暗模式的方法，涵盖过百种跨不同平台的常用软件和网站。

![img](https://lishuhang.me/img/2019/12/darkmodelist.jpg)

甚至如果有的人，或者有的应用无法切换到黑色模式，还会遭到嘲笑。[Mashable 的文章里提到](https://link.zhihu.com/?target=https%3A//mashable.com/article/dark-mode-apps-instagram-google-chrome-apple-ios13/)，下面这位电竞选手就因为使用亮色模式受到了来自亲友的暴击。

![img](https://lishuhang.me/img/2019/12/gamer-using-light-mode.jpg)

[《华尔街日报》在今年初写了篇文章](https://link.zhihu.com/?target=https%3A//www.wsj.com/articles/every-gadget-and-app-should-have-a-dark-mode-11547992801)，从各个角度倡导黑色模式的好处，结果被嘲笑说，《日报》自己的 App 就不支持黑色模式。

所以，**深色模式为什么在今年总算推广起来了呢**？你可以说因为 iOS 系统支持了。但为什么 iOS 和其它操作系统要做这个功能呢？之前大家用给残疾人的“高对比度”不也能凑合？

就像微信团队在上面那条微博中所说到的那样，给你的手机使用黑色模式，有一些人可能是为了美观，但更多人是为了在夜间不开灯时使用屏幕。

国家[GB50034-2013 《建筑照明设计标准》](https://link.zhihu.com/?target=https%3A//sysb.ruc.edu.cn/wp-content/uploads/2017/08/GB50034-2013%E5%BB%BA%E7%AD%91%E7%85%A7%E6%98%8E%E8%AE%BE%E8%AE%A1%E6%A0%87%E5%87%86.pdf)规定，住宅起居室书写、阅读照度标准值为300lx（勒克斯），卧室阅读时为150lx；一般阅览室、办公室、商店营业厅、旅馆房间写字台、教师照度为300lx，高级阅览室、老年阅览室、高级办公室、设计室、美术教室、计算机教室、电子阅览室、黑板区域等照度为500lx。

即使你不知道照度标准具体有多亮，也可以参考一下——只有在**亮度是打开了灯以后的卧室 4 倍**的环境下，才是适合看手机、看电脑的环境。然后你告诉我你还要**把灯关了**？

科学家都建议人们需要在光线明亮的环境阅读，这样才会减少近视的发生。小时候我们收看的动画片，也会有一个提示说，好孩子需要在光线明亮的环境之下收看。

![img](https://lishuhang.me/img/2019/12/good-boy-love-eyes.jpg)

有一些亮度不够的环境下长时间用眼，比如说在网吧长时间打游戏，甚至有可能造成视网膜脱落等严重的后果。

只不过，2019年深色模式的大普及，体现了大家活生生的需求就摆在那里，而**这种需求是不以手机厂商、产品经理或科学家的意志为转移的**。

人们有各种各样的理由，需要在暗光线中不开灯的使用手机，同时不给他人造成打扰。比如你想在伴侣熟睡的时候玩一会手机，就是最简单不过的理由。

而且，因为现在手机的屏幕越来越大，已经接近于以前的平板，所以**在一个需要保持黑暗的环境当中，你会更容易干扰到他人**。无数的手机像星海一般亮起，只有在演唱会才令人接受，换成在看电影、演出的过程中，就很失礼了。

不用亮色模式看手机，似乎应该成为文艺场所除了不大声喧哗、不接听电话、手机调至静音震动模式之外的一项新准则。

引入黑暗模式还可能会让另一些长期使用屏幕的工作者得到好处，比如人们熟知的程序员。

程序员们留给外界一个典型的形象，就是要在面前竖起2~3块屏幕，其中至少有一块屏幕用于码代码，另外一块屏幕用于编译和预览结果。

程序员们喜欢把等宽的字体，用黑底白字的方式来显示。这一部分是历史习惯转化而成，因为早期的电脑界面只能以黑底白字的方式来显示。

![img](https://lishuhang.me/img/2019/12/ms-dos-c.jpg)

另一部分则因为，在这种有别于其它页面的显示模式之下。他们的思维和精神都能够被充分唤起到工作状态。实际上还有程序员反问社长，我们这些做文字工作的人为什么习惯用白底黑字。

——这可能是因为Word就是这么设计的，而Word这么设计又是因为实体纸张是白色的。这也是个历史遗留问题。

那么，图像工作者呢？他们的画布，黑底和灰白底的都有。很长时间里Photoshop都是跟随操作系统，有灰色的底部。

![img](https://lishuhang.me/img/2019/12/adobe-ps-legacy.jpg)

不过最近，Adobe家的产品都有4种深浅不同的颜色让艺术家随便选，但默认的底色是深色底。

![img](https://lishuhang.me/img/2019/12/adobe-cc-2020-style.jpg)

总而言之，使用深色模式可能是一种需求，一种习惯，或是一种时尚。不管怎么说，**2019年是这个潮流的起点**。

为了适应这波暗黑的潮流，人们已经讨论了很久。有一些不像微信那么一根筋的厂商，很早就开发了黑暗模式，因此也在开发过程中形成了自己的一些特有的思考。现在，当全行业都引用黑色模式的时候，这些先行者的探索就成为了非常宝贵的借鉴。

正如[阿里巴巴UED的一篇文章](https://link.zhihu.com/?target=https%3A//www.uisdc.com/alibaba-app-dark-mode)所指出的，要充分的运用黑色模式，就不仅仅是将底色调为灰黑色，将前景色调为白色那么简单。实际上在低对比度的情况之下，**几乎每一种在亮色模式之下的色彩，都需要被重新设计**。

![img](https://lishuhang.me/img/2019/12/dark-color-redesign.jpg)

它们可能人眼无法区分，但是实际却有着细微的区别。作为前端设计者来说，必须充分的把握到这一点。

俄罗斯最大搜索引擎提供商 Yandex 有一个邮件客户端，他们在设计这款应用的深色模式时候[看到了一些更棘手的问题](https://link.zhihu.com/?target=https%3A//habr.com/en/company/yandex/blog/450032/)。

因为电子邮件是一种很古老的内容格式，绝大部分邮件模板都是在假定底色为白色的情况下设计的，所以会有一些颜色鲜艳、明亮的图片。而且有的邮件会调整背景色，以造成在彩色信纸上写作的感觉。

为此，Gmail 的深色模式并未将邮件正文调整为深色底。

![img](https://lishuhang.me/img/2019/12/gmail-web-dark.jpg)

这个时候，在基于HTML的邮件正文当中，如果只是调整文字和背景的颜色，就会出现各种各样的**奇葩问题**。

![img](https://lishuhang.me/img/2019/12/html-mail-problems.jpg)

邮件应用必须针对这些问题一一进行修改。有的时候，他们需要穿透那些图片的底色，将其调整为透明。另一些时候，对于已经是深色的背景图片，就无需调整，他们需要实时的读取画布上面颜色的值是否是足够深的。

总而言之，最终的结果已经到了一个非常好的程度，以至于他们团队引以为傲地编写了一个教程。

![img](https://lishuhang.me/img/2019/12/yandex-mail.jpg)

由于深色模式现在有了操作系统级别的支持，一些常用的控件不再需要开发者手动绘制。但是，对于上述没考虑到变色而存留下的遗产，如何妥善地适配依然让人非常头疼。

有人戏称，扁平化的潮流，让程序员可以自己画图标画界面，省下了美工和前端；但是修改深色模式的困难，让前端和美工又找回了饭碗。

让我们把目光聚焦回这一次微信的深色测试版。在安卓率先测试的深色模式，可以看到几乎所有的控件、图标都做了相应的调整。

今天上午，用微信打开公众号文章和外部网页，内嵌浏览器还没有做深色适配；到下午撰稿时，浏览器已经对大多数网站开启了深色适配。当然，我们可以看到问题依然存在。

![img](https://lishuhang.me/img/2019/12/wechat-dark-2.jpg)

距离测试版转正还有一段时间，也许微信的工程师会花时间解决这些问题，也许不会，因为他们本来并没想过要做这个黑色模式。

但不论张小龙和他的手下怎么想，2019 注定是属于“暗黑”的一年。